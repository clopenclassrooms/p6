{% extends 'base.html.twig' %}

{% block title %}Mon profile{% endblock %}

{% block scripts %}
{{ parent() }}
<script>
    function changeImg(e)
    {
        var img = document.getElementById('imageProfile');
        var url = window.URL.createObjectURL(e.files[0]);
        img.src = url;
    }
</script>
{% endblock %}

{% block body %}
<section>
    {{ form_start(form)}}
    <div class="modifyProfilContainer d-flex flex-row justify-content-center m-5">
        <div class="col-6">
            
                <div id="photoContainer" class="d-flex flex-row justify-content-center">
                    <div class="d-flex flex-column">
                        <div class="text-center">
                            <img id="imageProfile" src="{{ form.photo.vars.value }}" class="w-25">
                        </div>
                        <div class="text-center">
                            {{ form_row(form.img, {'attr':{'onchange':'changeImg(this)'}})}}
                            {{ form_row(form.photo,{'attr':{'class':'d-none'}})}}
                        </div>
                    </div>
                </div>
                {{ form_row(form.name)}}
                {{ form_row(form.email)}}
                {{ form_row(form.username)}}
                <div class="d-flex flex-row justify-content-center">
                    {{ form_row(form.submit, {'attr':{'class':'m-3 btn btn-primary'}})}}
                </div>
            
        </div>
    </div>
    {{ form_end(form)}}
</section>
{% endblock %}
